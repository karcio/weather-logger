CREATE DATABASE weatherdb;
CREATE USER dbuser;
ALTER USER dbuser WITH ENCRYPTED PASSWORD 'pa88w0rd';
ALTER DATABASE weatherdb OWNER TO dbuser;
\c weatherdb;
CREATE TABLE readings(id serial PRIMARY KEY, temperature NUMERIC NULL, windSpeed NUMERIC NULL, humidity NUMERIC NULL, pressure NUMERIC NULL, fog NUMERIC NULL, precipitation NUMERIC NULL, is_rain SMALLINT NULL, is_snow SMALLINT NULL, is_sun SMALLINT NULL, city VARCHAR(15), lastupdate TIMESTAMP NOT NULL);
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO dbuser;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA public TO dbuser;
GRANT ALL PRIVILEGES ON DATABASE weatherdb TO dbuser;
--ALTER TABLE readings ADD COLUMN is_sun SMALLINT NULL;